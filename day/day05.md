# day 05

## 문자 표시, GDT/IDT

### 문자 출력

0과 1으로 만든 도트를 출력할 위치와 매칭되는 vram에 입력하는 방식으로 출력한다.
모든 문자를 직접 만드는것은 무리가 있기 때문에 공개된 데이터를 사용한다.

OS 기능을 필요로 하지 않는 sprintf를 활용한다.

### GDT, IDT

GDT와 IDT는 CPU에서 설정해야 한다. (assembly)

GDT : global (segment) descriptor table  
IDT : interrupt descriptor table

### Segmentation

메모리를 분할한 뒤, 각 블록의 처음 번지를 0으로(`ORG 0`) 하여 다루는 기능

16 bit 에서는 `MOV AL, [DS:EBX]` DS\*16 + EBX 였지만, 32 bit 에서는 세그먼트 레지스터, DS가 세그먼트의 시작 주소이다.

세그먼테이션이 세그먼트 1개를 나타내기 위해서는 (세그먼트의) 크기, 시작번지, 관리속성(쓰기금지, 실행금지, 시스템전용 등) 이 필요하다.

(제한된 세그먼트 레지스터의) 각 세그먼트 번호에 대응하는 세그먼트들의 정보를 메모리에 담은 것이 GDT이다.

인터럽트가 발생했을때 대응하는 기능을 호출하는 것이 IDT이다.
세그먼트가 설정되어야 하므로 GDT를 먼저 설정하고 IDT를 설정한다.
